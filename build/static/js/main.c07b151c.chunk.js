(this["webpackJsonpgood-frontend"]=this["webpackJsonpgood-frontend"]||[]).push([[0],{31:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(1),a=c.n(s),r=c(32),i=c.n(r),o=c(2),l=c(15),j=c(12),u=c(4),d=c(3),m=c(10),b=c.n(m),h=(c(59),"https://fathomless-temple-41367.herokuapp.com/api"),O="https://good-store-resources.s3-us-west-2.amazonaws.com/resources",x=(c(60),c(61),function(e){var t=Object(s.useState)([]),c=Object(u.a)(t,2),a=c[0],r=c[1];return Object(s.useEffect)((function(){r(e.cart)}),[e.cart]),Object(n.jsxs)(o.b,{to:"/cart",className:"CartSummaryContainer",children:[Object(n.jsx)("img",{src:"".concat(O,"/assets/cart-icon.jpeg"),alt:"cart icon",height:30}),a.length>0&&Object(n.jsx)("span",{className:"CartCount",children:a.length})]})}),g=function(e){return Object(n.jsx)("div",{className:"navbar",children:Object(n.jsxs)("div",{className:"navbarContainer",children:[Object(n.jsx)(o.b,{to:"/",className:"TextLogo",children:"Farwest Fungi"}),Object(n.jsxs)("div",{className:"navLinks",children:[Object(n.jsx)(o.c,{to:"/collections",children:"Shop"}),Object(n.jsx)(o.c,{to:"/learn",children:"Learn"}),Object(n.jsx)(o.c,{to:"/about",children:"About"})]}),Object(n.jsx)(x,{cart:e.cart})]})})},p=(c(67),function(){return Object(n.jsx)("footer",{children:Object(n.jsx)("h3",{children:"\xa9 Farwest Fungi"})})}),f=(c(68),function(e){var t=Object(d.f)();return Object(s.useEffect)((function(){document.getElementById("JumbotronVideo").playbackRate=.7})),Object(n.jsxs)("div",{className:"JumbotronContainer",children:[Object(n.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,id:"JumbotronVideo",children:Object(n.jsx)("source",{src:"https://good-store-resources.s3-us-west-2.amazonaws.com/resources/assets/dope-background.mp4",type:"video/mp4"})}),Object(n.jsxs)("div",{className:"VideoOverlayContainer",children:[Object(n.jsx)("span",{className:"JumbotronMessage",children:e.message}),Object(n.jsx)("span",{onClick:function(){return t.push("/collections")},className:"ShopButton",children:"Shop"})]})]})}),N=(c(69),c(70),function(e){var t="Loader";return"Mini"===e.loaderType&&(t+=" MiniLoader"),Object(n.jsx)("div",{className:t,children:Object(n.jsxs)("div",{className:"lds-ellipsis",children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]})})}),v=function(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(s.useState)(0),i=Object(u.a)(r,2),o=i[0],l=i[1],j=Object(s.useState)(),d=Object(u.a)(j,2),m=d[0],x=d[1],g=Object(s.useState)(!1),p=Object(u.a)(g,2),f=p[0],v=p[1],C=function(e){"up"===e?o===c.length-1?l(0):l(o+1):l(0===o?c.length-1:o-1)};return Object(s.useEffect)((function(){v(!0),b.a.get("".concat(h,"/testimonials")).then((function(e){a(e.data),v(!1)})).catch((function(e){x(e.message),v(!1)}))}),[]),Object(n.jsxs)("div",{className:"TestimonialsBackgroundContainer",children:[Object(n.jsx)("h1",{className:"PageTitle",children:"Testimonials"}),Object(n.jsxs)("div",{className:"PageContainer",children:[Object(n.jsxs)("div",{className:"TestimonialsContainer",children:[Object(n.jsx)("img",{className:"ScrollButton",src:"".concat(O,"/assets/left-arrow.png"),alt:"scroll left",onClick:function(){return C("up")}}),f&&Object(n.jsx)(N,{loaderType:"Mini"}),c[0]?Object(n.jsx)("div",{className:"TestimonialStatementContainer",children:Object(n.jsxs)("p",{className:"TestimonialStatement",children:['"',c[o].statement,'"']})}):Object(n.jsx)("h2",{children:m}),Object(n.jsx)("img",{className:"ScrollButton",src:"".concat(O,"/assets/right-arrow.svg"),alt:"scroll right",id:"scrollRight",onClick:function(){return C("down")}})]}),c[0]&&Object(n.jsxs)("p",{className:"TestimonialAuthor",children:["- ",c[o].author]})]})]})},C=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(f,{message:"Harness the Fungus"}),Object(n.jsx)(v,{})]})},I=(c(31),function(e){return"collection"===e.type?Object(n.jsx)("div",{className:"ItemThumbnailWrapper",children:Object(n.jsxs)(o.b,{to:"/collections/".concat(e.item.collection),className:"ItemThumbnail",children:[Object(n.jsx)("div",{className:"ItemThumbnailImageContainer",children:Object(n.jsx)("img",{className:"ItemThumbnailImage",src:"".concat(O,"/product_images/").concat(e.item.slug,"/").concat(e.item.images[0]),alt:e.item.name})}),Object(n.jsxs)("h1",{className:"ItemThumbnailName",children:[e.item.collection,Object(n.jsx)("span",{children:"s"})]})]},e.item._id)}):Object(n.jsx)("div",{className:"ItemThumbnailWrapper",children:Object(n.jsxs)(o.b,{to:"/shop/".concat(e.item.slug),className:"ItemThumbnail",children:[Object(n.jsx)("div",{className:"ItemThumbnailImageContainer",children:Object(n.jsx)("img",{className:"ItemThumbnailImage",src:"".concat(O,"/product_images/").concat(e.item.slug,"/").concat(e.item.images[0]),alt:"product"})}),Object(n.jsx)("h1",{className:"ItemThumbnailName",children:e.item.name}),Object(n.jsxs)("p",{className:"ItemThumbnailPrice",children:["$",e.item.price]}),Object(n.jsx)("p",{className:"ItemThumbnailDescription",children:e.item.description})]},e.item.slug)})}),y=function(e){var t;return t="all"===e.slug?e.products:e.products.filter((function(t){return t.collection===e.slug})),Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"PageTitle",children:"Products"}),Object(n.jsx)("div",{className:"CollectionsContainer PageContainer",children:t&&t.map((function(e){return Object(n.jsx)(I,{item:e},e._id)}))})]})},T=c(21),S=c.n(T),k=c(34),P=c(35),w=(c(72),Object(P.a)("pk_test_51HEhAgAX9HHAr5HrTmBPQ9cPS7oGlGOfI2cNYOADmRtCsUmmitjAdrBrsDA2Ne7l1TYzvvfUWbMAebEQmJ1vzuhh00uzyGHwpt")),A=function(e){console.log("cart rendered");var t=Object(s.useState)(""),c=Object(u.a)(t,2),a=c[0],r=c[1],i=0;e.cart.forEach((function(e){i+=e.price*e.qty})),i=i.toFixed(2);var o=function(){var t=Object(k.a)(S.a.mark((function t(){var c;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setLoading(!0),t.next=3,w;case 3:c=t.sent,b.a.post("".concat(h,"/create-checkout-session"),{cart:e.cart}).then((function(t){t.data.success?(localStorage.setItem("Cart",JSON.stringify(e.cart)),c.redirectToCheckout({sessionId:t.data.id}).then((function(e){console.log("response from create checkout session=",e)})).catch((function(e){console.log(e),r(e.message)}))):(r(t.data.message),console.log("error creating checkout session",t.data.message)),e.setLoading(!1)})).catch((function(t){r(t.message),e.setLoading(!1),console.log(t)}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"PageContainer",children:[Object(n.jsx)("h1",{className:"PageTitle",children:"Cart"}),Object(n.jsxs)("div",{className:"CartContainer",children:[a&&Object(n.jsx)("h1",{children:a}),0===e.cart.length&&Object(n.jsx)("p",{children:"You have no items in your cart!"}),e.cart&&e.cart.map((function(t){return Object(n.jsxs)("div",{className:"CartItem",children:[Object(n.jsx)("div",{className:"CartItemImage",children:Object(n.jsx)("img",{src:"".concat(O,"/product_images/").concat(t.slug,"/1.jpeg"),alt:"item",width:"100%"})}),Object(n.jsx)("h3",{className:"CartItemName",children:t.name}),Object(n.jsxs)("div",{className:"QtyAndPriceContainer",children:[Object(n.jsxs)("p",{className:"CartItemPrice",children:["$",t.price.toFixed(2)]}),Object(n.jsxs)("div",{className:"QtyAdjustmentContainer",children:[Object(n.jsx)("span",{className:"QtyAdjustmentButton",onClick:function(){return e.adjustQty(t,"down")},children:"\u21a2"}),Object(n.jsx)("p",{className:"QtyLabel",children:t.qty}),Object(n.jsx)("span",{className:"QtyAdjustmentButton",onClick:function(){return e.adjustQty(t,"up")},children:"\u21a3"})]})]})]},t.slug)})),i>0&&Object(n.jsxs)("p",{className:"CartSubTotal",children:[Object(n.jsx)("em",{children:"Sub Total: "}),Object(n.jsxs)("strong",{children:["$",i]})]})]}),e.cart.length>0&&Object(n.jsx)("span",{className:"Button CheckoutButton",onClick:function(){return o()},children:"Checkout"})]})},L=(c(73),c(74),function(e){return console.log("FullScreenImage rendered"),Object(n.jsx)("div",{className:"FullScreenImageContainer",onClick:function(){return e.setShowFullScreenImg(!1)},children:Object(n.jsx)("div",{className:"FullScreenImage",children:e.image})})}),B=function(e){var t=Object(s.useState)(1),c=Object(u.a)(t,2),a=c[0],r=c[1],i=Object(s.useState)(null),o=Object(u.a)(i,2),l=o[0],j=o[1],d=Object(s.useState)([]),m=Object(u.a)(d,2),x=m[0],g=m[1],p=Object(s.useState)([]),f=Object(u.a)(p,2),N=f[0],v=f[1],C=Object(s.useState)(!1),I=Object(u.a)(C,2),y=I[0],T=I[1];Object(s.useEffect)((function(){e.setLoading(!0),b.a.get("".concat(h,"/products/").concat(e.slug,"/")).then((function(t){var c=[];t.data.images.forEach((function(e,t){c.push(Object(n.jsx)("img",{src:"".concat(O,"/product_images/").concat(N.slug,"/").concat(e),className:"productImages",alt:"product",width:"100%"}))})),g(c),j(c[0]),v(t.data),e.setLoading(!1)})).catch((function(t){e.setLoading(!1),console.log(t)}))}),[N.slug]);var S=function(e){"up"===e?r(a+1):a>1&&r(a-1)};return Object(n.jsxs)("div",{className:"ProductContainer PageContainer",children:[Object(n.jsx)("h1",{className:"PageTitle",children:N.name}),Object(n.jsxs)("div",{children:[y&&Object(n.jsx)(L,{image:l,setShowFullScreenImg:T}),Object(n.jsxs)("div",{className:"ProductImagesContainer",children:[Object(n.jsx)("div",{className:"SelectedProductImage",onClick:function(){return T(!0)},children:l}),Object(n.jsx)("div",{className:"ThumbnailsContainer",children:x.length>1&&x.map((function(e,t){return Object(n.jsx)("div",{className:"ThumbnailImageContainer",onClick:function(){return j(e)},children:e},t)}))})]}),Object(n.jsxs)("div",{className:"ProductInfoContainer",children:[Object(n.jsx)("p",{className:"ProductDescription",children:N.description}),Object(n.jsxs)("h1",{children:["$",N.price]}),Object(n.jsxs)("div",{className:"QtyAdjustmentContainer",children:[Object(n.jsx)("span",{className:"QtyAdjustmentButton",onClick:function(){return S("down")},children:"\u21a2"}),Object(n.jsxs)("p",{className:"QtyLabel",children:["qty: ",Object(n.jsx)("span",{children:a})]}),Object(n.jsx)("span",{className:"QtyAdjustmentButton",onClick:function(){return S("up")},children:"\u21a3"})]}),Object(n.jsx)("span",{className:"Button AddToCartButton",onClick:function(){return e.addItemToCart(N,a)},children:"Add to Cart"})]})]})]})},F=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Thank you for you purchase!"}),Object(n.jsx)(o.b,{to:"/shop",children:"Please buy more!"})]})},Q=function(){return Object(n.jsx)("div",{children:"Canceled"})},E=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"404. Page not found."}),Object(n.jsx)(o.b,{to:"/",children:"Go Home"})]})},J=(c(75),function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"PageTitle",children:"Our Mission"}),Object(n.jsx)("div",{className:"PageContainer",children:Object(n.jsx)("p",{children:"Our mission at Farwest Fungi is to provide everyone access to altnerative methods of healing."})})]})}),_=(c(76),function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"PageTitle",children:"Learn"}),Object(n.jsx)("div",{className:"PageContainer",children:Object(n.jsxs)("p",{children:["Fungi is ancient magic. You don't need to understand it to harness it's abilities. Please ",Object(n.jsx)("span",{className:"LearnTextLink",children:Object(n.jsx)(o.b,{to:"/collections",children:"try now"})}),"."]})})]})}),q=(c(77),function(e){for(var t=[],c=0;c<e.products.length;c++){for(var s=void 0,a=0;a<t.length;a++)e.products[c].collection===t[a].collection&&(s=!0);s||t.push(e.products[c])}return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"PageTitle",children:"Collections"}),Object(n.jsxs)("div",{className:"PageContainer CollectionsContainer",children:[Object(n.jsx)("div",{className:"ItemThumbnailWrapper",children:Object(n.jsxs)(o.b,{to:"/collections/all",className:"ItemThumbnail",children:[Object(n.jsx)("div",{className:"ItemThumbnailImageContainer",children:Object(n.jsx)("img",{className:"ItemThumbnailImage",src:"".concat(O,"/product_images/cordyceps/1.jpeg"),alt:"array of products"})}),Object(n.jsx)("h1",{className:"ItemThumbnailName",children:"all products"})]},"all-products")}),t.map((function(e){return Object(n.jsx)(I,{item:e,type:"collection"},e._id)}))]})]})}),H=function(){var e=Object(d.f)(),t=Object(s.useState)([]),c=Object(u.a)(t,2),a=c[0],r=c[1],i=Object(s.useState)(!1),o=Object(u.a)(i,2),m=o[0],O=o[1],x=Object(s.useState)([]),f=Object(u.a)(x,2),v=f[0],I=f[1];Object(s.useEffect)((function(){try{var e=JSON.parse(localStorage.getItem("Cart"));e&&r(Object(j.a)(e))}catch(t){console.log(t)}b.a.get("".concat(h,"/products")).then((function(e){e.data?I(e.data):console.log("error fetching products from api")})).catch((function(e){return console.log(e)}))}),[]);var T=function(t,c){var n=a.find((function(e){return e.slug===t.slug}));if(n){var s=a;s.forEach((function(e){e.slug===n.slug&&(e.qty+=c)})),r(Object(j.a)(s)),localStorage.setItem("Cart",JSON.stringify(s))}else r([].concat(Object(j.a)(a),[Object(l.a)(Object(l.a)({},t),{},{qty:c})])),localStorage.setItem("Cart",JSON.stringify([].concat(Object(j.a)(a),[Object(l.a)(Object(l.a)({},t),{},{qty:c})])));e.push("/cart")},S=function(e,t){var c=a,n=!1;c.forEach((function(c,s){c.slug===e.slug&&("up"===t?c.qty+=1:1===c.qty?n=!0:c.qty-=1)})),n&&(c=c.filter((function(t){return t.slug!==e.slug}))),r(Object(j.a)(c)),localStorage.setItem("Cart",JSON.stringify(c))};return Object(n.jsxs)("div",{className:"appContainer",children:[Object(n.jsx)(g,{cart:a}),m&&Object(n.jsx)(N,{}),Object(n.jsx)("main",{children:Object(n.jsxs)(d.c,{children:[Object(n.jsx)(d.a,{exact:!0,path:"/cart",render:function(){return Object(n.jsx)(A,{cart:a,adjustQty:S,setLoading:O})}}),Object(n.jsx)(d.a,{exact:!0,path:"/collections",render:function(){return Object(n.jsx)(q,{products:v})}}),Object(n.jsx)(d.a,{exact:!0,path:"/collections/:slug",render:function(e){return Object(n.jsx)(y,{products:v,slug:e.match.params.slug})}}),Object(n.jsx)(d.a,{exact:!0,path:"/shop",render:function(){return Object(n.jsx)(y,{products:v})}}),Object(n.jsx)(d.a,{exact:!0,path:"/shop/:slug",render:function(e){return Object(n.jsx)(B,{slug:e.match.params.slug,addItemToCart:T,setLoading:O})}}),Object(n.jsx)(d.a,{exact:!0,path:"/success",component:F}),Object(n.jsx)(d.a,{exact:!0,path:"/canceled",component:Q}),Object(n.jsx)(d.a,{exact:!0,path:"/about",component:J}),Object(n.jsx)(d.a,{exact:!0,path:"/learn",component:_}),Object(n.jsx)(d.a,{exact:!0,path:"/",component:C}),Object(n.jsx)(d.a,{path:"/",component:E})]})}),Object(n.jsx)(p,{})]})};i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(o.a,{children:Object(n.jsx)(H,{})})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.c07b151c.chunk.js.map